<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <%= link_to 'Home', root_path, class: 'li breadcrumb-item' %>
    <%= link_to 'Users List', users_path, class: 'li breadcrumb-item' %>
    <li class="breadcrumb-item active" aria-current="page">User Details & Requests</li>
  </ol>
</nav>
<!-- information from in-app user table -->
<section id="employee-info">
  <h1 class="text-center"><%= @user.displayname %> </h1>
  <div class="mr-3 ml-3">
    <div class="row">
      <h3 class="col">Employer: <%= @user.company %></h3>
      <h3 class="col">Employee ID: <%= @user.employee_id %> </h3>
    </div>
    <!-- information from hr_payroll -->
    <div class="row">
      <h3 class="col">Username</h3>
      <h3 class="col"> <%= @employee.ldapid %> </h3>
    </div>
    <div class="row">
      <h3 class="col">Work Email</h3>
      <h3 class="col"> <%= @employee.email %> </h3>
    </div>
    <div class="row">
      <h3 class="col">Hire Date</h3>
      <h3 class="col"> <%= @employee.hire_date %> (<%= time_ago_in_words(Date.strptime(@employee.hire_date.to_s)) %> ago)</h3>
    </div>
    <div class="row">
      <h3 class="col">FTE Status</h3>
      <h3 class="col"> <%= @employee.fte_status %> </h3>
    </div>
    <div class="row">
      <h3 class="col">Employment Status</h3>
      <h3 class="col"> <%= @employee.employee_status %> </h3>
    </div>
    <div class="row">
      <h3 class="col">Job Title</h3>
      <h3 class="col"> <%= @employee.title %> </h3>
    </div>
    <div class="row">
      <h3 class="col">Department</h3>
      <h3 class="col"> <%= @employee.dept_name %> </h3>
    </div>
    <div class="row">
      <h3 class="col">Assigned Manager</h3>
      <h3 class="col">
        <% if !@manager.blank? %>
          <%= @manager.first_name %> <%= @manager.last_name %> - <%= @manager.email %>
        <% else %>
          No Manager Listed - Contact HR
        <% end %>
      </h3>
    </div>
  </div>
</section>
<hr>
<section id="reimbursement-requests">
  <h3 class="text-center">Reimbursement Requests</h3>
  <%= link_to '+ Create a New Request', new_course_path, class:"btn btn-sm btn-primary" %>
    <table class="table table-striped table-hover table-sm">
      <thead>
      <tr>
        <th scope="col" class="col-auto">Course Title</th>
        <th scope="col" class="col-auto">Course ID</th>
        <th scope="col" class="col-auto">Begins</th>
        <th scope="col" class="col-auto">Ends</th>
        <th scope="col" class="col-auto">Credit Hrs</th>
        <th scope="col" class="col-auto">Est. Cost</th>
        <th scope="col" class="col-auto">Updated</th>
        <th scope="col" class="col-auto">Actions</th>
      </tr>
      </thead>

      <tbody>
      <% @courses.each do |course| %>
        <tr>
          <td><%= link_to course.course_title, course %></td>
          <td><%= course.course_short %></td>
          <td><%= Date.strptime(course.start_date.to_s) %></td>
          <td><%= Date.strptime(course.end_date.to_s) %></td>
          <td><%= course.credit_hours %></td>
          <td><%= course.cost %></td>
          <td><%= time_ago_in_words(course.updated_at) %> ago</td>
          <td><%= link_to 'View', course, class:"btn btn-sm btn-primary" %></td>
          <td><%= link_to 'Edit', edit_course_path(course), class:"btn btn-sm btn-secondary" %></td>
          <% if course.employee_id == current_user.employee_id %>
            <td><%= link_to 'Delete', course, method: :delete, data: { confirm: 'Are you sure?' }, class:"btn btn-sm btn-secondary" %></td>
            <% end %>
        </tr>
      <% end %>
      </tbody>
    </table>
</section>
